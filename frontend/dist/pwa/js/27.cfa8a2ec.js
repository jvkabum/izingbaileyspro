(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{d3b1:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e._self._c;return"admin"===e.userProfile?s("div",[s("q-card",{staticClass:"q-ma-sm",attrs:{square:""}},[s("div",{staticClass:"text-h5 q-pa-sm q-ma-sm"},[e._v("\n      Horário de Atendimento\n      "),s("q-icon",{attrs:{name:"help"}},[s("q-tooltip",{attrs:{"content-class":"bg-light-blue-1 text-black q-pa-sm shadow-4"}},[s("span",{staticClass:"text-weight-medium"},[e._v(" Tipos de horário: ")]),s("span",{staticClass:"row col"},[e._v("\n            Aberto: Estabelecimento aberto durante todo o dia. Não será feito envio de mensagem de ausência;\n          ")]),s("span",{staticClass:"row col"},[e._v("\n            Fechado: Estabelecimento fechado durante todo o dia. Será feito envio de mensagem de ausência, independente do horário;\n          ")]),s("span",{staticClass:"row col"},[e._v("\n            Horário: Representa o horário de funcionamento do estabelecimento. O sistema enviará mensagem de ausênica quando mensagens forem recebidas fora dos horários estabelecidos.\n          ")]),s("span",{staticClass:"row col"},[e._v("\n            **Importante: A mensagem de ausência será enviada após o encerramento do atendimento automático.\n          ")])])],1),s("q-btn",{staticClass:"float-right",attrs:{rounded:"",color:"positive",label:"Salvar"},on:{click:e.salvarHorariosAtendimento}})],1),s("q-separator"),s("q-card-section",[s("div",{staticClass:"row q-col-gutter-sm"},e._l(e.businessHours,(function(t){return s("div",{key:t.value,staticClass:"col-xs-12 col-sm-4 q-mt-sm"},[s("q-card",{attrs:{square:"",bordered:"",flat:""}},[s("div",{staticClass:"text-body1 text-bold bg-grey-3 q-pa-xs q-pl-sm"},[e._v("\n              "+e._s(t.label)+"\n            ")]),s("q-separator"),s("q-card-section",{staticClass:"q-pt-none"},[s("q-option-group",{staticClass:"row justify-between q-mb-md",attrs:{inline:"",options:e.optType,color:"primary"},model:{value:t.type,callback:function(s){e.$set(t,"type",s)},expression:"dia.type"}}),s("div",{staticClass:"row items-baseline q-gutter-sm"},[s("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==t.type,dense:"",rounded:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:t.hr1,callback:function(s){e.$set(t,"hr1",s)},expression:"dia.hr1"}}),s("h6",[e._v("às")]),s("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==t.type,dense:"",rounded:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:t.hr2,callback:function(s){e.$set(t,"hr2",s)},expression:"dia.hr2"}})],1),s("div",{staticClass:"row items-baseline q-gutter-sm"},[s("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==t.type,dense:"",rounded:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:t.hr3,callback:function(s){e.$set(t,"hr3",s)},expression:"dia.hr3"}}),s("h6",[e._v("às")]),s("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==t.type,dense:"",outlined:"",rounded:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:t.hr4,callback:function(s){e.$set(t,"hr4",s)},expression:"dia.hr4"}})],1)],1)],1)],1)})),0)])],1),s("q-card",{staticClass:"q-ma-sm q-mt-md full-full-height"},[s("div",{staticClass:"text-h6 q-pa-sm q-ma-sm"},[e._v("\n      Mensagem de Ausência\n      "),s("q-btn",{staticClass:"float-right",attrs:{color:"positive",label:"Salvar",rounded:""},on:{click:e.salvarMensagemAusencia}})],1),s("q-card-section",{staticClass:"q-pt-none"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col-xs-3 col-sm-2 col-md-1"},[s("q-btn",{staticClass:"q-ml-sm",attrs:{round:"",flat:""}},[s("q-icon",{attrs:{size:"2em",name:"mdi-emoticon-happy-outline"}}),s("q-tooltip",[e._v("\n              Emoji\n            ")]),s("q-menu",{attrs:{anchor:"top right",self:"bottom middle",offset:[5,40]}},[s("VEmojiPicker",{staticStyle:{width:"40vw"},attrs:{showSearch:!1,emojisByRow:20,labelSearch:"Localizar...",lang:"pt-BR"},on:{select:e.onInsertSelectEmoji}})],1)],1),s("q-btn",{attrs:{round:"",flat:"",dense:""}},[s("q-icon",{attrs:{size:"2em",name:"mdi-variable"}}),s("q-tooltip",[e._v("\n            Variáveis\n          ")]),s("q-menu",{attrs:{"touch-position":""}},[s("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},e._l(e.variaveis,(function(t){return s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:t.label,attrs:{clickable:""},on:{click:function(s){return e.onInsertSelectVariable(t.value)}}},[s("q-item-section",[e._v(e._s(t.label))])],1)})),1)],1)],1)],1),s("div",{staticClass:"col-xs-8 col-sm-10 col-md-11 q-pl-sm"},[s("textarea",{ref:"inputEnvioMensagem",staticClass:"q-pa-sm bg-white rounded-all full-width",staticStyle:{"min-height":"9vh","max-height":"9vh"},attrs:{placeholder:"Digite a mensagem",autogrow:"",dense:"",outlined:""},domProps:{value:e.messageBusinessHours},on:{input:s=>e.messageBusinessHours=s.target.value}})])])])],1)],1):e._e()},i=[],o=t("79b5"),n=t("6320"),r={name:"HorarioAtendimento",components:{VEmojiPicker:o["a"]},data(){return{userProfile:"user",optType:[{value:"O",label:"Aberto"},{value:"C",label:"Fechado"},{value:"H",label:"Horário"}],variaveis:[{label:"Nome",value:"{{name}}"},{label:"Saudação",value:"{{greeting}}"}],businessHours:[{day:0,label:"Domingo",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:1,label:"Segunda-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:2,label:"Terça-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:3,label:"Quarta-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:4,label:"Quinta-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:5,label:"Sexta-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:6,label:"Sábado",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"}],messageBusinessHours:null}},methods:{onInsertSelectVariable(e){const s=this;var t=this.$refs.inputEnvioMensagem,a=t.selectionStart,i=t.selectionEnd,o=a,n=t.value;e&&(s.txtContent=this.messageBusinessHours,s.txtContent=n.substring(0,a)+e+n.substring(i,n.length),this.messageBusinessHours=s.txtContent,setTimeout((()=>{t.selectionStart=t.selectionEnd=o+1}),10))},onInsertSelectEmoji(e){const s=this;var t=this.$refs.inputEnvioMensagem,a=t.selectionStart,i=t.selectionEnd,o=a,n=t.value;e.data&&(s.txtContent=this.messageBusinessHours,s.txtContent=n.substring(0,a)+e.data+n.substring(i,n.length),this.messageBusinessHours=s.txtContent,setTimeout((()=>{t.selectionStart=t.selectionEnd=o+e.data.length}),10))},async listarMensagemHorariosAtendimento(){const{data:e}=await Object(n["h"])();this.businessHours=e.businessHours,this.messageBusinessHours=e.messageBusinessHours},async salvarHorariosAtendimento(){const{data:e}=await Object(n["c"])(this.businessHours);this.businessHours=e.businessHours},async salvarMensagemAusencia(){const{data:e}=await Object(n["d"])({messageBusinessHours:this.messageBusinessHours});this.messageBusinessHours=e.messageBusinessHours}},mounted(){this.userProfile=localStorage.getItem("profile"),this.listarMensagemHorariosAtendimento()}},l=r,c=t("2877"),d=t("f09f"),u=t("0016"),m=t("05c0"),h=t("9c40"),p=t("eb85"),b=t("a370"),g=t("9f0a"),v=t("27f9"),q=t("4e73"),f=t("1c1c"),y=t("66e5"),C=t("4074"),w=t("7f67"),H=t("eebe"),x=t.n(H),S=Object(c["a"])(l,a,i,!1,null,"d915f2fa",null);s["default"]=S.exports;x()(S,"components",{QCard:d["a"],QIcon:u["a"],QTooltip:m["a"],QBtn:h["a"],QSeparator:p["a"],QCardSection:b["a"],QOptionGroup:g["a"],QInput:v["a"],QMenu:q["a"],QList:f["a"],QItem:y["a"],QItemSection:C["a"]}),x()(S,"directives",{ClosePopup:w["a"]})}}]);