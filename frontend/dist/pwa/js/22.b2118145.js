(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"8ee8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return"admin"===e.userProfile?t("div",[t("q-list",{staticClass:"text-weight-medium"},[t("q-item-label",{staticClass:"text-bold text-h6 q-mb-lg",attrs:{header:""}},[e._v("Configurações")]),t("q-item-label",{staticClass:"q-mt-lg q-pl-sm",attrs:{caption:""}},[e._v("Módulo: Atendimento")]),t("q-separator",{attrs:{spaced:""}}),t("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[t("q-item-section",[t("q-item-label",[e._v("Não visualizar Tickets já atribuidos à outros usuários")]),t("q-item-label",{attrs:{caption:""}},[e._v("Somente o usuário responsável pelo ticket e/ou os administradores visualizarão a atendimento.")])],1),t("q-item-section",{attrs:{avatar:""}},[t("q-toggle",{attrs:{"false-value":"disabled","true-value":"enabled","checked-icon":"check","keep-color":"",color:"enabled"===e.NotViewAssignedTickets?"green":"negative",size:"md","unchecked-icon":"clear"},on:{input:function(t){return e.atualizarConfiguracao("NotViewAssignedTickets")}},model:{value:e.NotViewAssignedTickets,callback:function(t){e.NotViewAssignedTickets=t},expression:"NotViewAssignedTickets"}})],1)],1),t("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[t("q-item-section",[t("q-item-label",[e._v("Não visualizar Tickets no ChatBot")]),t("q-item-label",{attrs:{caption:""}},[e._v("Somente administradores poderão visualizar tickets que estivem interagindo com o ChatBot.")])],1),t("q-item-section",{attrs:{avatar:""}},[t("q-toggle",{attrs:{"false-value":"disabled","true-value":"enabled","checked-icon":"check","keep-color":"",color:"enabled"===e.NotViewTicketsChatBot?"green":"negative",size:"md","unchecked-icon":"clear"},on:{input:function(t){return e.atualizarConfiguracao("NotViewTicketsChatBot")}},model:{value:e.NotViewTicketsChatBot,callback:function(t){e.NotViewTicketsChatBot=t},expression:"NotViewTicketsChatBot"}})],1)],1),t("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[t("q-item-section",[t("q-item-label",[e._v("Forçar atendimento via Carteira")]),t("q-item-label",{attrs:{caption:""}},[e._v("Caso o contato tenha carteira vínculada, o sistema irá direcionar o atendimento somente para os donos da carteira de clientes.")])],1),t("q-item-section",{attrs:{avatar:""}},[t("q-toggle",{attrs:{"false-value":"disabled","true-value":"enabled","checked-icon":"check","keep-color":"",color:"enabled"===e.DirectTicketsToWallets?"green":"negative",size:"md","unchecked-icon":"clear"},on:{input:function(t){return e.atualizarConfiguracao("DirectTicketsToWallets")}},model:{value:e.DirectTicketsToWallets,callback:function(t){e.DirectTicketsToWallets=t},expression:"DirectTicketsToWallets"}})],1)],1),t("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[t("q-item-section",[t("q-item-label",[e._v("Fluxo ativo para o Bot de atendimento")]),t("q-item-label",{attrs:{caption:""}},[e._v("Fluxo a ser utilizado pelo Bot para os novos atendimentos")])],1),t("q-item-section",{attrs:{avatar:""}},[t("q-select",{staticStyle:{width:"300px"},attrs:{outlined:"",dense:"",rounded:"",options:e.listaChatFlow,"map-options":"","emit-value":"","option-value":"id","option-label":"name"},on:{input:function(t){return e.atualizarConfiguracao("botTicketActive")}},model:{value:e.botTicketActive,callback:function(t){e.botTicketActive=t},expression:"botTicketActive"}})],1)],1),t("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[t("q-item-section",[t("q-item-label",[e._v("Ignorar Mensagens de Grupo")]),t("q-item-label",{attrs:{caption:""}},[e._v("Habilitando esta opção o sistema não abrirá ticket para grupos")])],1),t("q-item-section",{attrs:{avatar:""}},[t("q-toggle",{attrs:{"false-value":"disabled","true-value":"enabled","checked-icon":"check","keep-color":"",color:"enabled"===e.ignoreGroupMsg?"green":"negative",size:"md","unchecked-icon":"clear"},on:{input:function(t){return e.atualizarConfiguracao("ignoreGroupMsg")}},model:{value:e.ignoreGroupMsg,callback:function(t){e.ignoreGroupMsg=t},expression:"ignoreGroupMsg"}})],1)],1),t("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"}},[t("q-item-section",[t("q-item-label",[e._v("Recusar chamadas no Whatsapp")]),t("q-item-label",{attrs:{caption:""}},[e._v("Quando ativo, as ligações de aúdio e vídeo serão recusadas, automaticamente.")])],1),t("q-item-section",{attrs:{avatar:""}},[t("q-toggle",{attrs:{"false-value":"disabled","true-value":"enabled","checked-icon":"check","keep-color":"",color:"enabled"===e.rejectCalls?"green":"negative",size:"md","unchecked-icon":"clear"},on:{input:function(t){return e.atualizarConfiguracao("rejectCalls")}},model:{value:e.rejectCalls,callback:function(t){e.rejectCalls=t},expression:"rejectCalls"}})],1)],1),"enabled"===e.rejectCalls?t("div",{staticClass:"row q-px-md"},[t("div",{staticClass:"col-12"},[t("q-input",{attrs:{rounded:"",type:"textarea",autogrow:"",dense:"",outlined:"",label:"Mensagem ao rejeitar ligação:","input-style":"min-height: 6vh; max-height: 9vh;",debounce:"700"},on:{input:function(t){return e.atualizarConfiguracao("callRejectMessage")}},model:{value:e.callRejectMessage,callback:function(t){e.callRejectMessage=t},expression:"callRejectMessage"}})],1)]):e._e()],1)],1):e._e()},o=[],l=a("824a"),s=a("7963"),r={name:"IndexConfiguracoes",data(){return{userProfile:"user",configuracoes:[],listaChatFlow:[],NotViewAssignedTickets:null,NotViewTicketsChatBot:null,DirectTicketsToWallets:null,botTicketActive:null,ignoreGroupMsg:null,rejectCalls:null,callRejectMessage:""}},methods:{async listarConfiguracoes(){const{data:e}=await Object(s["b"])();this.configuracoes=e,this.configuracoes.forEach((e=>{let t=e.value;"botTicketActive"===e.key&&e.value&&(t=+e.value),this.$data[e.key]=t}))},async listarChatFlow(){const{data:e}=await Object(l["c"])();this.listaChatFlow=e.chatFlow},async atualizarConfiguracao(e){const t={key:e,value:this.$data[e]};try{await Object(s["a"])(t),this.$q.notify({type:"positive",message:"Configuração alterada!",progress:!0,actions:[{icon:"close",round:!0,color:"white"}]})}catch(a){console.error("error - AlterarConfiguracao",a),this.$data[e]="enabled"===this.$data[e]?"disabled":"enabled",this.$notificarErro("Ocorreu um erro!",a)}}},async mounted(){this.userProfile=localStorage.getItem("profile"),await this.listarConfiguracoes(),await this.listarChatFlow()}},c=r,n=a("2877"),u=a("1c1c"),d=a("0170"),m=a("eb85"),p=a("66e5"),v=a("4074"),g=a("9564"),b=a("ddd8"),k=a("27f9"),h=a("714f"),f=a("eebe"),q=a.n(f),C=Object(n["a"])(c,i,o,!1,null,"099b4b9d",null);t["default"]=C.exports;q()(C,"components",{QList:u["a"],QItemLabel:d["a"],QSeparator:m["a"],QItem:p["a"],QItemSection:v["a"],QToggle:g["a"],QSelect:b["a"],QInput:k["a"]}),q()(C,"directives",{Ripple:h["a"]})}}]);