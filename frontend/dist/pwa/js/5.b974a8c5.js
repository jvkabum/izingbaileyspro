(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"2ad0":function(t,e,s){"use strict";s("876b")},"876b":function(t,e,s){},d77e:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-sm"},[e("q-card",{staticClass:"q-my-md"},[e("q-card-section",{staticClass:"row justify-between items-center"},[e("div",{staticClass:"col-xs-12 col-md-3 text-h4 text-bold text-center text-md-left"},[t._v("\n        Painel de Controle\n      ")]),e("div",{staticClass:"col-xs-12 col-md-9 justify-end flex q-gutter-sm text-center text-md-right q-my-md rdsPainelDate"},[e("div",{staticClass:"q-mb-sm"},[e("q-datetime-picker",{staticStyle:{width:"200px"},attrs:{dense:"","hide-bottom-space":"",outlined:"","stack-label":"","bottom-slots":"",label:"Data/Hora Agendamento",mode:"date",color:"primary",format24h:""},model:{value:t.params.startDate,callback:function(e){t.$set(t.params,"startDate",e)},expression:"params.startDate"}})],1),e("div",{staticClass:"q-mb-sm"},[e("q-datetime-picker",{staticStyle:{width:"200px"},attrs:{dense:"","hide-bottom-space":"",outlined:"","stack-label":"","bottom-slots":"",label:"Data/Hora Agendamento",mode:"date",color:"primary",format24h:""},model:{value:t.params.endDate,callback:function(e){t.$set(t.params,"endDate",e)},expression:"params.endDate"}})],1),e("q-btn",{staticClass:"bg-padrao q-mb-sm",attrs:{flat:"",color:"primary",icon:"refresh",label:"Gerar"},on:{click:t.getDashData}}),"disabled"===t.grupoAtivo?e("q-toggle",{attrs:{"checked-icon":"check","unchecked-icon":"clear",color:t.toggleValue?"green":"negative",size:"md"},on:{input:t.handleGroups},model:{value:t.toggleValue,callback:function(e){t.toggleValue=e},expression:"toggleValue"}},[e("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle"}},[e("span",[t._v("Filtrar Grupos")])])],1):t._e()],1)])],1),e("q-card",{staticClass:"q-my-md q-pa-sm"},[e("q-card-section",{staticClass:"q-pa-md"},[e("div",{staticClass:"row q-gutter-md justify-center"},[e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",staticStyle:{"min-width":"200px","background-color":"#05d69e",color:"white"},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"text-h4 text-bold text-center"},[t._v(" "+t._s(t.ticketsAndTimes.qtd_total_atendimentos)+" ")]),e("q-icon",{staticClass:"text-white",attrs:{name:"verified",size:"lg",color:"white"}}),t._v("\n              Total Atendimentos\n            ")],1)],1)],1),e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",staticStyle:{"min-width":"200px","background-color":"#faad42",color:"white"},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"text-h4 text-bold text-center"},[t._v(" "+t._s(t.ticketsAndTimes.qtd_demanda_ativa)+" ")]),e("q-icon",{staticClass:"text-white",attrs:{name:"mdi-comment-processing-outline",size:"lg",color:"white"}}),t._v("\n              Ativo\n            ")],1)],1)],1),e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",staticStyle:{"min-width":"200px","background-color":"#0398e2",color:"white"},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"text-h4 text-bold text-center"},[t._v(" "+t._s(t.ticketsAndTimes.qtd_demanda_receptiva)+" ")]),e("q-icon",{staticClass:"text-white",attrs:{name:"mdi-arrow-left-bold",size:"lg",color:"white"}}),t._v("\n              Receptivo\n            ")],1)],1)],1),e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",staticStyle:{"min-width":"200px","background-color":"#0398e2",color:"white"},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"text-h4 text-bold text-center"},[t._v(" "+t._s(t.ticketsAndTimes.new_contacts)+" ")]),e("q-icon",{staticClass:"text-white",attrs:{name:"mdi-contacts-outline",size:"lg",color:"white"}}),t._v("\n              Novos Contatos\n            ")],1)],1)],1),e("div",{staticClass:"col-xs-12 col-sm-4 col-md-3 col-lg-2"},[e("q-card",{staticClass:"my-card full-height",staticStyle:{"background-color":"#ffa880",color:"white"},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"text-h5 text-bold text-center"},[e("q-icon",{staticClass:"text-white",attrs:{name:"mdi-clock-outline",size:"lg",color:"white"}}),t._v("\n                "+t._s(t.cTmaFormat)+"\n              ")],1),t._v("\n              Tempo Médio de Atendimento (TMA)\n            ")])],1)],1),e("div",{staticClass:"col-xs-12 col-sm-4 col-md-3 col-lg-2"},[e("q-card",{staticClass:"my-card full-height",staticStyle:{"background-color":"#fc5881ff",color:"white"},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"text-h5 text-bold text-center"},[e("q-icon",{staticClass:"text-white",attrs:{name:"mdi-timer-sand",size:"lg",color:"white"}}),t._v("\n                "+t._s(t.cTmeFormat)+"\n              Tempo Médio 1º Resposta\n            ")],1)])],1)],1)])])],1),e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-xs-12 col-sm-6"},[e("q-card",[e("q-card-section",{staticClass:"q-pa-md"},[e("ApexChart",{ref:"ChartTicketsChannels",attrs:{type:"pie",height:"300",width:"100%",options:t.ticketsChannelsOptions,series:t.ticketsChannelsOptions.series}})],1)],1)],1),e("div",{staticClass:"col-xs-12 col-sm-6"},[e("q-card",[e("q-card-section",{staticClass:"q-pa-md"},[e("ApexChart",{ref:"ChartTicketsQueue",attrs:{type:"pie",height:"300",width:"100%",options:t.ticketsQueueOptions,series:t.ticketsQueueOptions.series}})],1)],1)],1)]),e("q-card",{staticClass:"q-my-md"},[e("q-card-section",[e("ApexChart",{ref:"ChartTicketsEvolutionChannels",attrs:{type:"bar",height:"300",width:"100%",options:t.ticketsEvolutionChannelsOptions,series:t.ticketsEvolutionChannelsOptions.series}})],1)],1),e("q-card",{staticClass:"q-my-md"},[e("q-card-section",{staticClass:"q-pa-md"},[e("ApexChart",{ref:"ChartTicketsEvolutionByPeriod",attrs:{type:"line",height:"300",options:t.ticketsEvolutionByPeriodOptions,series:t.ticketsEvolutionByPeriodOptions.series}})],1)],1),e("q-card",{staticClass:"q-my-md q-pa-sm"},[e("q-card-section",{staticClass:"q-pa-md"},[e("q-table",{attrs:{title:"Performance Usuários",data:t.ticketsPerUsersDetail,columns:t.TicketsPerUsersDetailColumn,"row-key":"email",pagination:t.paginationTableUser,"rows-per-page-options":[0],bordered:"",flat:"","hide-bottom":""},on:{"update:pagination":function(e){t.paginationTableUser=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(s){return[e("q-td",{attrs:{props:s}},[e("div",{staticClass:"row col text-bold"},[t._v(" "+t._s(s.row.name||"Não informado")+" ")]),e("div",{staticClass:"row col text-caption"},[t._v(t._s(s.row.email)+" ")])])]}}])})],1)],1)],1)},i=[],o=(s("14d9"),s("2ef0")),n=s("ee0e"),l=s("ab52"),c=s("b166"),r=s("5dea"),d=s("5526"),h=s("3683"),m=s("1321"),p=s.n(m),u={name:"IndexDashboard",components:{ApexChart:p.a},data(){return{confiWidth:{horizontal:!1,width:this.$q.screen.width},params:{startDate:Object(c["a"])(Object(r["a"])(new Date,6),"yyyy-MM-dd"),endDate:Object(c["a"])(new Date,"yyyy-MM-dd"),queuesIds:[]},paginationTableUser:{rowsPerPage:40,rowsNumber:0,lastIndex:0},filas:[],ticketsChannels:[],ticketsChannelsOptions:{animations:{enabled:!0,easing:"easeinout",speed:1e3},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.05,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},chart:{toolbar:{show:!0}},legend:{position:"bottom"},title:{text:"Atendimento por canal"},noData:{text:"Sem dados aqui!",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},series:[],labels:[],theme:{mode:"light",palette:"palette1"},plotOptions:{pie:{dataLabels:{offset:-10}}},dataLabels:{enabled:!0,textAnchor:"middle",style:{fontSize:"16px",offsetY:"150",fontFamily:"Helvetica, Arial, sans-serif"},offsetX:0}},ticketsQueue:[],ticketsQueueOptions:{animations:{enabled:!0,easing:"easeinout",speed:1e3},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.05,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},chart:{toolbar:{show:!0}},legend:{position:"bottom"},title:{text:"Atendimento por fila"},noData:{text:"Sem dados aqui!",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},series:[],labels:[],theme:{mode:"light",palette:"palette1"},plotOptions:{pie:{dataLabels:{offset:-10}}},dataLabels:{enabled:!0,textAnchor:"middle",style:{fontSize:"16px",offsetY:"150",fontFamily:"Helvetica, Arial, sans-serif"},offsetX:0}},ticketsEvolutionChannels:[],ticketsEvolutionChannelsOptions:{animations:{enabled:!0,easing:"easeinout",speed:1e3},chart:{type:"bar",stacked:!0,stackType:"100%",toolbar:{tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:0}}},theme:{mode:"light",palette:"palette1"},grid:{show:!0,strokeDashArray:0},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.05,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},dataLabels:{enabled:!0},title:{text:"Evolução por canal",align:"left"},stroke:{width:0},xaxis:{type:"category",categories:[],tickPlacement:"on"},yaxis:{title:{text:"Atendimentos",style:{color:"#FFF"}}},tooltip:{y:{formatter:function(t){return Number(t).toFixed(0)}}}},ticketsEvolutionByPeriod:[],ticketsEvolutionByPeriodOptions:{animations:{enabled:!0,easing:"easeinout",speed:1e3},theme:{mode:"light",palette:"palette1"},chart:{toolbar:{tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:0}}},grid:{show:!0,strokeDashArray:0,xaxis:{lines:{show:!0}}},stroke:{width:[4,4,4]},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.05,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},title:{text:"Evolução atendimentos",align:"left"},dataLabels:{enabled:!0,enabledOnSeries:[1]},xaxis:{categories:[]},yaxis:{title:{text:"Atendimentos"}},tooltip:{shared:!1,x:{show:!1},y:{formatter:function(t){return Number(t).toFixed(0)}}},legend:{show:!1}},ticketsAndTimes:{qtd_total_atendimentos:null,qtd_demanda_ativa:null,qtd_demanda_receptiva:null,tma:null,tme:null},ticketsPerUsersDetail:[],TicketsPerUsersDetailColumn:[{name:"name",label:"Usuário",field:"name",align:"left",style:"width: 300px;",format:(t,e)=>t?`${e.name} | ${e.email}`:"Não informado"},{name:"qtd_pendentes",label:"Pendentes",field:"qtd_pendentes"},{name:"qtd_em_atendimento",label:"Atendendo",field:"qtd_em_atendimento"},{name:"qtd_resolvidos",label:"Finalizados",field:"qtd_resolvidos"},{name:"qtd_por_usuario",label:"Total",field:"qtd_por_usuario"},{name:"tme",label:"T.M.E",field:"tme",align:"center",headerStyle:"text-align: center !important",format:t=>Object(d["a"])(t)||""},{name:"tma",label:"T.M.A",field:"tma",align:"center",headerStyle:"text-align: center !important",format:t=>Object(d["a"])(t)||""}]}},watch:{"$q.dark.isActive"(){this.$router.go()},"$q.screen.width"(){this.setConfigWidth()}},computed:{cTmaFormat(){const t=this.ticketsAndTimes.tma||{};return Object(d["a"])(t)||""},cTmeFormat(){const t=this.ticketsAndTimes.tme||{};return Object(d["a"])(t)||""}},methods:{async listarFilas(){const{data:t}=await Object(n["d"])();this.filas=t},setConfigWidth(){const t=Object(h["a"])(new Date(this.params.endDate),new Date(this.params.startDate));if(t>30)this.configWidth={horizontal:!0,width:2200};else{const t=this.$q.screen.width;this.configWidth={horizontal:!0,width:t-(t<768?40:100)}}},getDashTicketsAndTimes(){Object(l["b"])(this.params).then((t=>{this.ticketsAndTimes=t.data[0]})).catch((t=>{console.error(t)}))},getDashTicketsQueue(){Object(l["g"])(this.params).then((t=>{this.ticketsQueue=t.data;const e=[],s=[];this.ticketsQueue.forEach((t=>{e.push(+t.qtd),s.push(t.label)})),this.ticketsQueueOptions.series=e,this.ticketsQueueOptions.labels=s,this.$refs.ChartTicketsQueue.updateOptions(this.ticketsQueueOptions),this.$refs.ChartTicketsQueue.updateSeries(e,!0)})).catch((t=>{console.error(t)}))},getDashTicketsChannels(){Object(l["c"])(this.params).then((t=>{this.ticketsChannels=t.data;const e=[],s=[];this.ticketsChannels.forEach((t=>{e.push(+t.qtd),s.push(t.label)})),this.ticketsChannelsOptions.series=e,this.ticketsChannelsOptions.labels=s,this.$refs.ChartTicketsChannels.updateOptions(this.ticketsChannelsOptions),this.$refs.ChartTicketsChannels.updateSeries(e,!0)})).catch((t=>{console.error(t)}))},getDashTicketsEvolutionChannels(){Object(l["e"])(this.params).then((t=>{this.ticketsEvolutionChannels=t.data;const e=Object(o["groupBy"])({...this.ticketsEvolutionChannels},"dt_referencia"),s=Object.keys(e);this.ticketsEvolutionChannelsOptions.labels=s,this.ticketsEvolutionChannelsOptions.xaxis.categories=s;const a=[],i=Object(o["groupBy"])({...this.ticketsEvolutionChannels},"label");for(const o in i)a.push({name:o,data:i[o].map((t=>t.qtd))});this.ticketsEvolutionChannelsOptions.series=a,this.$refs.ChartTicketsEvolutionChannels.updateOptions(this.ticketsEvolutionChannelsOptions),this.$refs.ChartTicketsEvolutionChannels.updateSeries(a,!0)})).catch((t=>{console.error(t)}))},getDashTicketsEvolutionByPeriod(){Object(l["d"])(this.params).then((t=>{this.ticketsEvolutionByPeriod=t.data;const e=[{name:"Atendimentos",type:"column",data:[]},{type:"line",data:[]}],s=[];this.ticketsEvolutionByPeriod.forEach((t=>{e[0].data.push(+t.qtd),s.push(t.label)})),e[1].data=e[0].data,this.ticketsEvolutionByPeriodOptions.labels=s,this.ticketsEvolutionByPeriodOptions.series=e,this.$refs.ChartTicketsEvolutionByPeriod.updateOptions(this.ticketsEvolutionByPeriodOptions),this.$refs.ChartTicketsEvolutionByPeriod.updateSeries(e,!0)})).catch((t=>{console.error(t)}))},getDashTicketsPerUsersDetail(){Object(l["f"])(this.params).then((t=>{this.ticketsPerUsersDetail=t.data})).catch((t=>{console.error(t)}))},getDashData(){this.setConfigWidth(),this.getDashTicketsAndTimes(),this.getDashTicketsChannels(),this.getDashTicketsEvolutionChannels(),this.getDashTicketsQueue(),this.getDashTicketsEvolutionByPeriod(),this.getDashTicketsPerUsersDetail()}},beforeMount(){const t=this.$q.dark.isActive?"dark":"light",e={mode:t,palette:"palette1",monochrome:{enabled:!0,color:"#0288d1",shadeTo:t,shadeIntensity:.95}};this.ticketsQueueOptions={...this.ticketsQueueOptions,theme:e},this.ticketsChannelsOptions={...this.ticketsChannelsOptions,theme:e},this.ticketsEvolutionChannelsOptions={...this.ticketsEvolutionChannelsOptions,theme:e},this.ticketsEvolutionByPeriodOptions={...this.ticketsEvolutionByPeriodOptions,theme:e}},mounted(){this.listarFilas(),this.getDashData()}},f=u,k=(s("2ad0"),s("2877")),b=s("f09f"),C=s("a370"),g=s("52ee"),y=s("ddd8"),v=s("9c40"),x=s("9564"),q=s("05c0"),w=s("0016"),T=s("eaac"),O=s("db86"),_=s("eebe"),D=s.n(_),E=Object(k["a"])(f,a,i,!1,null,null,null);e["default"]=E.exports;D()(E,"components",{QCard:b["a"],QCardSection:C["a"],QDate:g["a"],QSelect:y["a"],QBtn:v["a"],QToggle:x["a"],QTooltip:q["a"],QIcon:w["a"],QTable:T["a"],QTd:O["a"]})}}]);